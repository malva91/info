<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta Tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#495057">
  <meta name="description" content="Info">
  <meta name="author" content="Fabio Malvaldi">

  <!-- Cache Control -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">



  <!-- Preconnect -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- External CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-..." crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap">

  <!-- Version Control -->
  <script src="version.js"></script>
  <script>
    document.write(`
            <link rel="stylesheet" href="style/style.css?v=${APP_VERSION}">
            <script src="data/psw.js?v=${APP_VERSION}" ><\/script>
            <script src="data/dipendenti.js?v=${APP_VERSION}" ><\/script>
            <script src="data/appartamenti.js?v=${APP_VERSION}" ><\/script>
            <script src="data/bnb.js?v=${APP_VERSION}" ><\/script>
            <script src="data/uffici.js?v=${APP_VERSION}" ><\/script>
            <script src="data/cerrano.js?v=${APP_VERSION}" ><\/script>
            <script src="data/welcome.js?v=${APP_VERSION}" ><\/script>
            <script src="data/lorenza.js?v=${APP_VERSION}" ><\/script>
            <script src="data/allarmi.js?v=${APP_VERSION}" ><\/script> 
    `);
  </script>
</head>

<body>
  <!-- Loading Screen -->
  <div class="cyber-loading"></div>
  <!-- Dynamic Background Effects -->
  <div class="cyber-lines"></div>
  <div class="cyber-stars"></div>
  <main class="cyber-container">
    <!-- Back Button -->
    <div class="text-center mt-4">
      <a href="sito_info.html" class="btn btn-custom-4 btn-lg text-white btn-custom ripple">
        <span class="btn-content">Torna indietro</span>
      </a>
    </div>
    <!-- irene Container -->
    <div id="irene" class="animate__animated animate__fadeInUp"></div>
    <!-- cerrano Container -->
    <div id="cerrano" class="animate__animated animate__fadeInUp"></div>
    <!-- lorenza Container -->
    <div id="lorenza" class="animate__animated animate__fadeInUp"></div>
    <!-- Back Button -->
    <footer class="text-center mt-4">
      <div class="text-center mt-4">
        <a href="sito_info.html" class="btn btn-custom-4 btn-lg text-white btn-custom ripple">
          <span class="btn-content">Torna indietro</span>
        </a>
      </div>
    </footer>
  </main>
  <script>
    function creaSezioneAppartamento(appartamento, tipo) {
      const section = document.createElement('section');
      section.className = `apartment-section ${tipo}`;
      section.innerHTML = `
        <div class="clickable-container" onclick="this.querySelector('details').open = !this.querySelector('details').open">
          <h3 class="text-center">${appartamento.nome}</h3>
          <details>
            <summary style="display:none">Dettagli Appartamento</summary>
            <div class="apartment-content">
              <ul class="apartment-list">
                <li>üìç <span class="TestoIniziale">Indirizzo:</span> ${appartamento.indirizzo}</li>
                <li>üë• <span class="TestoIniziale">Ospiti:</span> ${appartamento.ospiti}</li>
                <li>üè† <span class="TestoIniziale">Composizione:</span>
                  <ul>
                    ${Array.isArray(appartamento.composizione)
          ? appartamento.composizione.map(item => `<li>‚Ä¢ ${item}</li>`).join('')
          : `<li>‚Ä¢ ${appartamento.composizione}</li>`}
                  </ul>
                </li>
                <li>‚è∞ <span class="TestoIniziale">Ore:</span> ${appartamento.ore}</li>
                <li class="text-center">
                  <a href="${appartamento.mappa}" class="maps-link" target="_blank">
                    <img style="width: 50px;" src="/images/maps.png" alt="Maps">
                  </a>
                </li>
                ${appartamento.note.map(nota => `<li>üìù <span class="TestoIniziale">Note:</span> ${nota}</li>`).join('')}
              </ul>
              <div class="text-center mt-4">
                <a href="appartamentiGiro.html" class="btn btn-custom-7 btn-lg text-white btn-custom ripple">
                  <span class="btn-content">Calendario</span>
                </a>
              </div>
            </div>
          </details>
        </div>
      `;
      return section;
    }

    function insertApp() {
      const containerIrene = document.getElementById('irene');
      if (irene) {
        irene.forEach(appartamento => {
          containerIrene.appendChild(creaSezioneAppartamento(appartamento, 'irene'));
        });
      }

      const containerCerrano = document.getElementById('cerrano');
      if (cerrano) {
        cerrano.forEach(appartamento => {
          containerCerrano.appendChild(creaSezioneAppartamento(appartamento, 'cerrano'));
        });
      }

      const containerLorenza = document.getElementById('lorenza');
      if (lorenza) {
        lorenza.forEach(appartamento => {
          containerLorenza.appendChild(creaSezioneAppartamento(appartamento, 'lorenza'));
        });
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      insertApp();
      setTimeout(() => {
        document.querySelector('.cyber-loading').style.opacity = '0';
        setTimeout(() => {
          document.querySelector('.cyber-loading').style.display = 'none';
        }, 500);
      }, 1000);
    });
  </script>
</body>

</html>